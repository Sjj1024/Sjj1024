"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[8376,1310,287,6124],{10287:(e,a,t)=>{t.r(a),t.d(a,{useCalcTaxStore:()=>r});var l=t(57268),n=t(10435),o=t(14754);const u=(e,a,t,l,n)=>{const r=a*e,i=t*e,s=r-i-l*e-n*e;if(s<=0)return{totalIncome:r,totalFiveOut:i,incomeShouldTaxTotal:0,shouldPayTaxTotal:0,payedTaxTotal:0,taxRate:"3%",currentMounthTax:0,afterTaxSalary:a-t,fastCountDown:0};const x=(0,o.WS)(s),c=u(e-1,a,t,l,n),d=1===e?0:c.currentMounthTax+c.payedTaxTotal,m=s*x.rate-x.deduction;return{totalIncome:r,totalFiveOut:i,incomeShouldTaxTotal:s,shouldPayTaxTotal:m,payedTaxTotal:d,taxRate:100*x.rate+"%",currentMounthTax:m-d,afterTaxSalary:a-t-(m-d),fastCountDown:x.deduction}},r=(0,n.Q_)("calc-components-tax",{state:()=>({activeIndex:0,step:1,taxFormData:{mounth:(new Date).getMonth()+1+"",preTaxSalary:0,fiveOut:0,specialOut:0,startPoint:5e3,annualBonus:0,remuneration:0},salaryTaxResult:{totalIncome:0,totalFiveOut:0,incomeShouldTaxTotal:0,shouldPayTaxTotal:0,payedTaxTotal:0,taxRate:"%",currentMounthTax:0,afterTaxSalary:0,fastCountDown:0},yearEndTaxResult:{incomeShouldTaxTotal:0,mounthlyIncome:0,fastCountDown:0,shouldPayTaxTotal:0,taxRate:"%",afterTaxIncome:0},remunerationTaxResult:{countDownTotal:0,incomeShouldTaxTotal:0,fastCountDown:0,shouldPayTaxTotal:0,taxRate:"%",afterTaxIncome:0}}),getters:{},actions:{changeActive(e){this.activeIndex=e},calcSalaryTax(){const e=this.taxFormData,a=parseInt(e.mounth);this.salaryTaxResult=u(a,e.preTaxSalary,e.fiveOut,e.specialOut,e.startPoint)},calcYearEndTax(){const e=this.taxFormData.annualBonus,a=e/12,t=(0,o.Mb)(a),l=12*(a*t.rate-t.deduction);this.yearEndTaxResult={incomeShouldTaxTotal:e,mounthlyIncome:a,fastCountDown:t.deduction,shouldPayTaxTotal:l,taxRate:100*t.rate+"%",afterTaxIncome:e-l}},calcRemunerationTax(){let e;const a=this.taxFormData.remuneration;if(a<=800)e={countDownTotal:0,incomeShouldTaxTotal:0,fastCountDown:0,shouldPayTaxTotal:0,taxRate:"0%",afterTaxIncome:a};else if(a>800&&a<=4e3)e={countDownTotal:800,incomeShouldTaxTotal:a-800,fastCountDown:0,shouldPayTaxTotal:.2*(a-800),taxRate:"20%",afterTaxIncome:a-.2*(a-800)};else{const t=(0,o.D)(a),l=.8*a*t.rate-t.deduction;e={countDownTotal:.2*a,incomeShouldTaxTotal:.8*a,fastCountDown:t.deduction,shouldPayTaxTotal:l,taxRate:100*t.rate+"%",afterTaxIncome:a-l}}this.remunerationTaxResult=e}}});(0,l.YP)((()=>r().taxFormData),(()=>{r().calcSalaryTax(),r().calcYearEndTax(),r().calcRemunerationTax()}),{deep:!0})},36124:(e,a,t)=>{t.r(a),t.d(a,{useTaxPanel:()=>o});var l=t(10435),n=t(10287);const o=()=>{const e=(0,n.useCalcTaxStore)(),a=(0,l.Jk)(e);return{changeActive:a=>{e.changeActive(a)},step:a.step,salaryTaxResult:a.salaryTaxResult,yearEndTaxResult:a.yearEndTaxResult,remunerationTaxResult:a.remunerationTaxResult,taxFormData:a.taxFormData,activeIndex:a.activeIndex}}},14754:(e,a,t)=>{t.d(a,{D:()=>p,Mb:()=>m,UC:()=>o,WS:()=>d,fS:()=>r,uf:()=>l,vZ:()=>n,zX:()=>u});const l=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(!e)return 0;const l=Math.floor(Math.log(Math.abs(e))/Math.LN10);if(Math.abs(l)<=a)return Number(e.toFixed(t));{const a=e*Math.pow(10,-l);return Number(a.toFixed(t))+"e"+(l>0?"+"+l:l)}},n=(e,a)=>{const t=[...a],l=t.find((e=>e.base)),n=t.find((a=>a.name===e.name));return l.base=!1,n.base=!0,n.value=l.value,t},o=e=>{const a=[...e],t=e.find((e=>e.calcBase)),l=e.find((e=>e.base));var n;t.base?a.map((e=>{var a;e.base||e.calcBase||(e.value=null===(a=e.getValue)||void 0===a?void 0:a.call(null,Number(t.value)))})):(t.value=null===(n=l.reverseValue)||void 0===n?void 0:n.call(null,Number(l.value)),a.map((e=>{var a;e.base||e.calcBase||(e.value=null===(a=e.getValue)||void 0===a?void 0:a.call(null,Number(t.value)))})));return a},u=(e,a)=>{const t=String(e).split("."),l=t[1].split("");let n=0;for(let e=0;e<t[1].length;e++)n+=l[e]*Math.pow(a,-1*(e+1));return parseInt(t[0],a)+n},r=e=>Number(e||0).toFixed(2).replace(/\d+/,(e=>e.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"))),i=[{min:-1/0,max:36e3,rate:.03,deduction:0},{min:36e3,max:144e3,rate:.1,deduction:2520},{min:144e3,max:3e5,rate:.2,deduction:16920},{min:3e5,max:42e4,rate:.25,deduction:31920},{min:42e4,max:66e4,rate:.3,deduction:52920},{min:66e4,max:96e4,rate:.35,deduction:85920},{min:96e4,max:1/0,rate:.45,deduction:181920}],s=[{min:-1/0,max:3e3,rate:.03,deduction:0},{min:3e3,max:12e3,rate:.1,deduction:210},{min:12e3,max:25e3,rate:.2,deduction:1410},{min:25e3,max:35e3,rate:.25,deduction:2660},{min:35e3,max:55e3,rate:.3,deduction:4410},{min:55e3,max:8e4,rate:.35,deduction:7160},{min:8e4,max:1/0,rate:.45,deduction:15160}],x=[{min:-1/0,max:2e4,rate:.2,deduction:0},{min:2e4,max:5e4,rate:.3,deduction:2e3},{min:5e4,max:1/0,rate:.4,deduction:7e3}],c=(e,a)=>a.find((a=>e>a.min&&e<=a.max)),d=e=>c(e,i),m=e=>c(e,s),p=e=>c(e,x)},23709:(e,a,t)=>{t.d(a,{Z:()=>c});var l=t(17530),n=t(57268),o=t(29445),u=t(94209);const r={class:"hi-select"},i={class:"flex cursor-pointer items-center text-[14px] text-color-t2"},s={class:"flex-1"},x=[(0,n._)("i",{class:"iconfont icon-down_icon text-[12px]"},null,-1)],c=(0,n.aZ)({__name:"hi-select",props:{value:null,options:null,menuClass:null,onlyTheme:null},emits:["update:value","update:show"],setup(e,a){let{emit:t}=a;const c=e,d=(0,o.iH)(!1);(0,n.YP)((()=>d.value),(e=>t("update:show",e)));const m=(0,n.Fl)({get:()=>c.value,set(e){t("update:value",e)}});return(e,a)=>{const t=l.Z;return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(t,{show:d.value,"onUpdate:show":a[0]||(a[0]=e=>d.value=e),value:(0,o.SU)(m),"onUpdate:value":a[1]||(a[1]=e=>(0,o.dq)(m)?m.value=e:null),"menu-class":c.menuClass,options:c.options,"only-theme":c.onlyTheme},{reference:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n._)("span",s,(0,u.toDisplayString)(c.options[(0,o.SU)(m)].text),1),(0,n._)("div",{class:(0,u.normalizeClass)(["ml-[12px] flex-shrink-0 transform-gpu transition-transform duration-150",{"rotate-180":d.value}])},x,2)])])),_:1},8,["show","value","menu-class","options","only-theme"])])}}})},58647:(e,a,t)=>{t.d(a,{Z:()=>c});var l=t(57268),n=t(94209),o=t(68398),u=t(29445);const r={class:"mb-[8px] flex h-[44px] items-center rounded-[4px] bg-color-white bg-opacity-[0.05] pl-[15px]"},i={class:"flex-1 text-[14px] text-color-calc-t1"},s={class:"text-[12px] text-color-calc-t3"},x={class:"h-[100%] flex-1 p-[1px] pl-[20px] text-[14px]"},c=(0,l.aZ)({__name:"calculator-input",props:{label:null,unit:{default:""},modelValue:null,max:{default:1/0},min:{default:-1/0}},emits:["update:modelValue"],setup(e,a){let{emit:t}=a;const c=e,d=(0,u.iH)(c.modelValue);function m(e){const{value:a}=e.target;if(Number(a)>c.max)return d.value=c.max,t("update:modelValue",c.max),!1;if(Number(a)<c.min)return d.value=c.min,t("update:modelValue",c.min),!1;const l=a.indexOf(".")>-1?parseFloat(a):parseInt(a);d.value=isNaN(l)?"":l,t("update:modelValue",isNaN(l)?"":l)}return(e,a)=>((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",i,[(0,l.Uk)((0,n.toDisplayString)(c.label),1),(0,l._)("span",s,(0,n.toDisplayString)(c.unit),1)]),(0,l._)("div",x,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),type:"number",class:"h-[100%] w-[100%] bg-color-none pr-[15px] text-right text-[14px] text-color-calc-t1",onInput:m},null,544),[[o.vModelText,d.value]])])]))}})},48376:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var l=t(23709),n=t(57268),o=t(94209),u=t(29445),r=t(68398),i=t(36124),s=t(58647),x=t(91310);const c={class:"mx-auto w-[360px]"},d={class:"relative mb-[26px] flex h-[32px] flex-row items-center rounded-[8px] bg-color-black bg-opacity-20"},m=["onClick"],p={class:"flex justify-between pb-[20px] leading-none text-color-calc-t1"},v=(0,n._)("span",null,"当前月份",-1),f=(0,n._)("div",{class:"flex h-[44px] items-center rounded-[4px] bg-color-white bg-opacity-[0.05] px-[15px]"},[(0,n._)("div",{class:"flex-1 text-[14px] text-color-calc-t1"},"减除费用(起征点)"),(0,n._)("div",{class:"flex-1 pl-[21px] text-right text-[14px] text-color-calc-t1"},"￥5,000")],-1),T={class:"flex flex-wrap justify-between pt-[20px]"},h={class:"flex flex-wrap justify-between pt-[20px]"},S={class:"flex flex-wrap justify-between pt-[20px]"},y=(0,n.aZ)({__name:"tax-panel",setup(e){const a=["工资薪金","年终奖金","劳务报酬"],{activeIndex:t,changeActive:y,taxFormData:b,salaryTaxResult:w,yearEndTaxResult:U,remunerationTaxResult:g}=(0,i.useTaxPanel)(),_={1:{text:"1月"},2:{text:"2月"},3:{text:"3月"},4:{text:"4月"},5:{text:"5月"},6:{text:"6月"},7:{text:"7月"},8:{text:"8月"},9:{text:"9月"},10:{text:"10月"},11:{text:"11月"},12:{text:"12月"}};return(e,i)=>{const D=l.Z;return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",d,[(0,n._)("div",{class:"absolute top-[2px] bottom-[2px] w-[118px] rounded-[6px] bg-color-calc-l5 transition-[left]",style:(0,o.normalizeStyle)({left:118*(0,u.SU)(t)+((0,u.SU)(t)+2)+"px"})},null,4),((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(a,((e,a)=>(0,n._)("div",{key:a,class:(0,o.normalizeClass)(["z-10 h-[100%] flex-1 cursor-pointer text-center leading-[32px] text-color-calc-t1",[(0,u.SU)(t)===a?"text-opacity-100":"text-opacity-60"]]),onClick:e=>(0,u.SU)(y)(a)},(0,o.toDisplayString)(e),11,m))),64))]),(0,n.wy)((0,n._)("div",null,[(0,n._)("div",p,[v,(0,n.Wm)(D,{value:(0,u.SU)(b).mounth,"onUpdate:value":i[0]||(i[0]=e=>(0,u.SU)(b).mounth=e),class:"mounth-select",options:_,"only-theme":"dark","menu-class":"h-[220px] mounth-select-menu hi-scroll overflow-auto"},null,8,["value"])]),(0,n.Wm)(s.Z,{modelValue:(0,u.SU)(b).preTaxSalary,"onUpdate:modelValue":i[1]||(i[1]=e=>(0,u.SU)(b).preTaxSalary=e),max:99999999,min:0,label:"税前薪资"},null,8,["modelValue"]),(0,n.Wm)(s.Z,{modelValue:(0,u.SU)(b).specialOut,"onUpdate:modelValue":i[2]||(i[2]=e=>(0,u.SU)(b).specialOut=e),max:9999999,min:0,label:"专项附加扣除"},null,8,["modelValue"]),(0,n.Wm)(s.Z,{modelValue:(0,u.SU)(b).fiveOut,"onUpdate:modelValue":i[3]||(i[3]=e=>(0,u.SU)(b).fiveOut=e),max:9999999,min:0,label:"五险一金"},null,8,["modelValue"]),f,(0,n._)("div",T,[(0,n.Wm)(x.default,{label:"累计收入",value:(0,u.SU)(w).totalIncome},null,8,["value"]),(0,n.Wm)(x.default,{label:"累计五险一金",value:(0,u.SU)(w).totalFiveOut},null,8,["value"]),(0,n.Wm)(x.default,{label:"应纳税所得额",value:(0,u.SU)(w).incomeShouldTaxTotal},null,8,["value"]),(0,n.Wm)(x.default,{label:"税率",format:!1,prefix:"",value:(0,u.SU)(w).taxRate},null,8,["value"]),(0,n.Wm)(x.default,{label:"累计应纳税额",value:(0,u.SU)(w).shouldPayTaxTotal},null,8,["value"]),(0,n.Wm)(x.default,{label:"累计已缴纳税额",value:(0,u.SU)(w).payedTaxTotal},null,8,["value"]),(0,n.Wm)(x.default,{label:"当月个税（应补税额）",value:(0,u.SU)(w).currentMounthTax},null,8,["value"]),(0,n.Wm)(x.default,{label:"税后工资",value:(0,u.SU)(w).afterTaxSalary},null,8,["value"])])],512),[[r.vShow,0===(0,u.SU)(t)]]),(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(s.Z,{modelValue:(0,u.SU)(b).annualBonus,"onUpdate:modelValue":i[4]||(i[4]=e=>(0,u.SU)(b).annualBonus=e),max:99999999,min:0,label:"年终奖金",unit:"（元）"},null,8,["modelValue"]),(0,n._)("div",h,[(0,n.Wm)(x.default,{label:"累计应纳税额",value:(0,u.SU)(U).shouldPayTaxTotal},null,8,["value"]),(0,n.Wm)(x.default,{label:"税率",format:!1,prefix:"",value:(0,u.SU)(U).taxRate},null,8,["value"]),(0,n.Wm)(x.default,{label:"税后年终奖",value:(0,u.SU)(U).afterTaxIncome},null,8,["value"]),(0,n.Wm)(x.default,{label:"平均每月",value:(0,u.SU)(U).mounthlyIncome},null,8,["value"])])],512),[[r.vShow,1===(0,u.SU)(t)]]),(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(s.Z,{modelValue:(0,u.SU)(b).remuneration,"onUpdate:modelValue":i[5]||(i[5]=e=>(0,u.SU)(b).remuneration=e),max:99999999,min:0,label:"劳务报酬",unit:"（元）"},null,8,["modelValue"]),(0,n._)("div",S,[(0,n.Wm)(x.default,{label:"扣除费用",value:(0,u.SU)(g).countDownTotal},null,8,["value"]),(0,n.Wm)(x.default,{label:"应纳税所得额",value:(0,u.SU)(g).incomeShouldTaxTotal},null,8,["value"]),(0,n.Wm)(x.default,{label:"税率",format:!1,prefix:"",value:(0,u.SU)(g).taxRate},null,8,["value"]),(0,n.Wm)(x.default,{label:"应纳税额",value:(0,u.SU)(g).shouldPayTaxTotal},null,8,["value"]),(0,n.Wm)(x.default,{label:"税后收入",value:(0,u.SU)(g).afterTaxIncome},null,8,["value"])])],512),[[r.vShow,2===(0,u.SU)(t)]])])}}})},91310:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var l=t(57268),n=t(94209),o=t(29445),u=t(14754);const r={class:"mb-[8px] flex h-[48px] w-[176px] flex-col items-center justify-center rounded-[8px] border border-color-calc-l7 leading-none"},i={class:"text-[14px] text-color-calc-l9"},s={key:0},x={class:"pt-[4px] text-[12px] text-color-calc-t3"},c=(0,l.aZ)({__name:"tax-result-item",props:{label:null,prefix:{default:"￥"},format:{type:Boolean,default:!0},value:null},setup(e){const a=e;return(e,t)=>((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",i,[a.prefix?((0,l.wg)(),(0,l.iD)("span",s,(0,n.toDisplayString)(a.prefix),1)):(0,l.kq)("",!0),(0,l._)("span",null,(0,n.toDisplayString)(a.format?(0,o.SU)(u.fS)(a.value):a.value),1)]),(0,l._)("div",x,(0,n.toDisplayString)(a.label),1)]))}})}}]);