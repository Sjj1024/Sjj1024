"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[7915,774],{22854:(e,t,a)=>{a.d(t,{C:()=>s});var o=a(29445),i=a(57268);const s=(e,t,a)=>{const s=(0,o.iH)(e);t.onChangeState=e=>{s.value={...e}};const n=(0,i.Fl)((()=>a?a[s.value.size]:null));return{propsState:s,HomeComp:n}}},27915:(e,t,a)=>{a.r(t),a.d(t,{mountHome:()=>C,widgetApp:()=>y});var o=a(29445),i=a(68398),s=a(57268);const n={class:"absolute inset-0 z-[1] flex h-full w-full flex-col items-center justify-center bg-[#5C5E45]"},l=[(0,s._)("img",{draggable:"false",class:"h-[70px] w-[70px] icon-m:h-[64px] icon-m:w-[64px] icon-s:h-[56px] icon-s:w-[56px]",src:"https://static.wetab.link/hitab/book-widget/error.png",alt:""},null,-1),(0,s._)("p",{class:"mt-[8px] text-[12px] text-[#C8C8CC]"},"很抱歉，当前内容正在维护中…",-1)],r=(0,s.aZ)({__name:"book-forbidden",setup:e=>(e,t)=>((0,s.wg)(),(0,s.iD)("div",n,l))}),u={class:"relative z-0 flex h-full flex-col justify-between overflow-hidden rounded-[var(--icon-home-radius)] bg-[#4A4C36] bg-cover bg-center bg-no-repeat transition-[background]"},c=(e=>((0,s.dD)("data-v-d13d0e9e"),e=e(),(0,s.Cn)(),e))((()=>(0,s._)("div",{class:"insert-shadow pointer-events-none absolute inset-0 z-[2] overflow-hidden"},null,-1))),d=(0,s.aZ)({__name:"book-medium",setup:e=>(e,t)=>((0,s.wg)(),(0,s.iD)("section",u,[(0,s.Wm)(r),c]))});var m=a(76911);const p=(0,m.Z)(d,[["__scopeId","data-v-d13d0e9e"]]),h={class:"relative z-0 flex h-full flex-col rounded-[var(--icon-home-radius)] bg-[#4A4C36] p-[24px] icon-m:p-[20px] icon-s:p-[16px]"},b=(e=>((0,s.dD)("data-v-b7530d7a"),e=e(),(0,s.Cn)(),e))((()=>(0,s._)("div",{class:"insert-shadow pointer-events-none absolute inset-0 z-[2]"},null,-1))),v=(0,s.aZ)({__name:"book-large",setup:e=>(e,t)=>((0,s.wg)(),(0,s.iD)("section",h,[(0,s.Wm)(r),b]))}),g=(0,m.Z)(v,[["__scopeId","data-v-b7530d7a"]]);var k=a(22854);a(10774);const f={class:"contents"},w=(0,s.aZ)({__name:"widget-book-home",props:{size:null,id:null},setup(e){const t=e,{HomeComp:a}=(e=>{const t={m:p,l:g};return(0,k.C)(e,y.value,t)})(t);return(e,t)=>((0,s.wg)(),(0,s.iD)("section",f,[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,o.SU)(a))))]))}});var _=a(96755),x=a(75008);const y=(0,o.iH)(null),C=(e,t)=>{const a=(0,i.createApp)(w,t);return(0,x.f)(a),y.value=a,a.use(_.M),a.mount(e),y.value}},10774:(e,t,a)=>{a.r(t),a.d(t,{useBookStore:()=>u});var o=a(28850),i=a(10435),s=a(74003),n=a(88287);const l={_id:"1",link:"https://book.douban.com/subject/36104107/",bookId:"36104107",title:"长安的荔枝",type:"all",cover:"https://static.wetab.link/hitab/book-widget/1674147631355.jpg",desc:"马伯庸 / 2022-10 / 湖南文艺出版社 / 45.00元 / 平装",score:"8.5",subTitle:"",oriTitle:"",intro:"大唐天宝十四年，长安城的小吏李善德突然接到一个任务：要在贵妃诞日之前，从岭南运来新鲜荔枝。荔枝“一日色变，两日香变，三日味变”，而岭南距长安五千余里，山水迢迢，这是个不可能完成的任务，可为了家人，李善德决心放手一搏：“就算失败，我也想知道，自己倒在距离终点多远的地方。”    《长安的荔枝》是马伯庸备受好评的历史小说。    唐朝诗人杜牧的一句“一骑红尘妃子笑，无人知是荔枝来”一千多年来引发了人们的无限遐想，但鲜荔枝的保鲜时限仅有三天，这场跨越五千余里的传奇转运之旅究竟是如何达成的，谁让杨贵妃在长安吃到了来自岭南的鲜荔枝？作者马伯庸就此展开了一场脑洞非常大的想象。    沿袭马伯庸写作一贯以来的时空紧张感，不仅让读者看到了小人物的乱世生存之道，也感受到了事在人为的热血奋斗。随书附赠“荔枝鲜转运舆图”。    ★ 编辑推荐    唐朝诗人杜牧的一句“一骑红尘妃子笑，无人知是荔枝来”...(展开全部)"},r=[{name:"全部",value:"all",list:[],updatetime:0},{name:"文学",value:"literary",list:[],updatetime:0},{name:"小说",value:"novel",list:[],updatetime:0},{name:"历史文化",value:"history",list:[],updatetime:0},{name:"社会纪实",value:"social",list:[],updatetime:0},{name:"科学新知",value:"tech",list:[],updatetime:0},{name:"艺术设计",value:"art",list:[],updatetime:0},{name:"影视戏剧",value:"drama",list:[],updatetime:0},{name:"商业经管",value:"business",list:[],updatetime:0},{name:"绘本漫画",value:"comics",list:[],updatetime:0},{name:"悬疑推理",value:"suspense_novel",list:[],updatetime:0},{name:"科幻奇幻",value:"science_fiction",list:[],updatetime:0}],u=(0,i.Q_)(o.BU.book,{syncStorage:{watch:["bookList","homeBookItem"]},state:()=>({modalShow:!1,bookList:r,currentType:"all",homeBookItem:l}),actions:{setModal(e){this.modalShow=e},setCurrentType(e){e!==this.currentType&&(this.currentType=e,this.reqBookList())},async reqBookList(){const e=this.currentType,t=this.bookList.find((t=>t.value===e)),a=(new Date).valueOf(),o=this.bookList[0].list;if("all"===e&&o.length>0){const e=Math.floor(10*Math.random());this.homeBookItem=o[e]}if(a-t.updatetime<72e6)return!1;const[i,l]=await(async e=>{try{const t=await n.hj.get(`${s.H}book/list`,{type:e},{_single:!0});if(0===t.code&&t.data.length>0)return[null,t.data];throw t}catch(e){return["catch error"]}})(e);if(i||!l)return;if("all"===e&&l.length>0){const e=Math.floor(10*Math.random());this.homeBookItem=l[e]}const r=[...this.bookList],u=r.findIndex((t=>t.value===e));r[u]={...r[u],list:l,updatetime:a},this.bookList=r}}})}}]);