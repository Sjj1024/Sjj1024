"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[663,3533],{68533:(t,e,i)=>{i.d(e,{RQ:()=>c,qH:()=>n});var o,l=i(74003);!function(t){t.all="all",t.baidu="baidu",t.weibo="weibo",t.zhihu="zhihu",t.bilibili="bilibili",t.kr36="kr36",t.toutiao="toutiao",t.sspai="sspai",t.csdn="csdn",t.douyin="douyin",t.wechat="wechat"}(o||(o={}));const n={type:o.all,name:"全部",label:""},a=[{type:o.baidu,name:"百度",label:"热搜",icon:"/hot-search-icon/baidu.png",bgColor:"#4A7AFF"},{type:o.weibo,name:"微博",label:"热搜榜",icon:"/hot-search-icon/weibo.png",bgColor:"#ED4C15"},{type:o.zhihu,name:"知乎",label:"热榜",icon:"/hot-search-icon/zhihu.png",bgColor:"#0066FF"},{type:o.wechat,name:"微信",label:"24小时热文榜",icon:"/hot-search-icon/weixin.png",bgColor:"#04D76A"},{type:o.bilibili,name:"哔哩哔哩",label:"热门",icon:"/hot-search-icon/bilibili.png",bgColor:"#03A7FD"},{type:o.kr36,name:"36氪",label:"24小时热榜",icon:"/hot-search-icon/kr36.png",bgColor:"#4285F4"},{type:o.douyin,name:"抖音",label:"视频榜",icon:"/hot-search-icon/douyin.png",bgColor:"#170B1A"},{type:o.toutiao,name:"今日头条",label:"热文榜",icon:"/hot-search-icon/toutiao.png",bgColor:"#E62318"},{type:o.sspai,name:"少数派",label:"热门文章",icon:"/hot-search-icon/sspai.png",bgColor:"#D7191A"},{type:o.csdn,name:"CSDN",label:"今日热点",icon:"/hot-search-icon/csdn.png",bgColor:"#DD1700"}];let r;!function(t){t.google="google",t.twitter="twitter",t.youtube="youtube",t.tiktok="tiktok",t.netflix="netflix",t.tumblr="tumblr",t.cnet="cnet"}(r||(r={}));const s=[{type:r.google,name:"Google",label:" Trending",icon:"/hot-search-icon/google.png"},{type:r.youtube,name:"Youtube",label:" Trending",icon:"/hot-search-icon/youtube.png"},{type:r.twitter,name:"Twitter",label:" Trending",icon:"/hot-search-icon/twitter.png"},{type:r.tiktok,name:"Tiktok",label:" Trending",icon:"/hot-search-icon/douyin.png"},{type:r.netflix,name:"Netflix",label:" Top 10",icon:"/hot-search-icon/netflix.png"},{type:r.tumblr,name:"Tumblr",label:" Trending",icon:"/hot-search-icon/tumblr.png"},{type:r.cnet,name:"Tumblr",label:" Trending",icon:"/hot-search-icon/cnet.png"}],c=(l.sM?a:s).map((t=>({...t,icon:l.c1+t.icon,list:[],expired:0,updatetime:0})))},3533:(t,e,i)=>{i.r(e),i.d(e,{useHotsearchStore:()=>b,widgetInfo:()=>v});var o=i(10435),l=i(68533),n=i(24581),a=i(28850),r=i(94223),s=i(81212),c=i(34906),h=i(97188),p=i(94007),d=i(12793),u=i(74003),g=i(63477),y=i(88287);const m=new g._P("hotsearch/types",6e5);var w=i(57268),f=i(94119),x=i(20409);const v=(0,n.E0)(n.Rm.hotsearch),b=(0,o.Q_)(a.BU.hotsearch,{syncStorage:{watch:["allType","all"]},state:()=>({allType:"baidu",modalShow:!1,configShow:!1,modalState:{size:"m",openType:"add"},all:l.RQ,loading:!1,modalActiveType:"baidu"}),getters:{optionsList(){return[l.qH].concat(this.all)},allOptions(){return[{text:l.qH.name}].concat(this.all.map((t=>({id:t.type,text:t.name+"·"+t.label}))))},allTypesList(){return this.all.map((t=>t.type))},getListItem:t=>e=>{const i=t.all.find((t=>t.type===e));return i||null},getHomeListItem:t=>e=>{const i=t.all.find((t=>t.type===e));return i?{...i,list:(0,r.Z)(i.list,5)}:null}},actions:{setAllType(t){this.allType=t},addToHome(t,e){(0,d.i)().saveIcon({type:"widget",name:v.title,widgetSize:e,widgetName:v.name,origin:"add",widgetData:t??"all"})},async reqAll(){const[t,e]=await(async()=>{try{if(m.isLocked)return["locked error"];const t=await y.hj.get(`${u.H}hotsearch/types`,{},{_delay:0});if(0===t.code&&t.data.list.length>0)return m.setLock(),[null,t.data.list.map((t=>({...t,icon:u.c1+t.icon})))];throw t}catch(t){return["catch error"]}})();if(t||!e)return;const i=e.map((t=>{const{list:e,expired:i,updatetime:o,...l}=t;return l})),o=this.all.map((t=>{const{list:e,expired:i,updatetime:o,...l}=t;return l}));if((0,s.Z)(i,o))return;const l=new Map;this.all.forEach((t=>{t.list.length>0&&Date.now()>t.expired&&l.set(t.type,t)})),this.all=e.map((t=>{const e=l.get(t.type);return e?(t.list=e.list,t.expired=e.expired,t.updatetime=e.updatetime):(t.list=[],t.expired=0,t.updatetime=0),t}))},async reqHotsearchList(t){const e=this.getListItem(t);if(!e)return;if(Date.now()<e.expired)return;const[i,o]=await(async t=>{try{const e=await y.hj.get(`${u.H}hotsearch/list`,{type:t},{_delay:0});if(0===e.code&&e.data.list.length>0)return[null,e.data];throw e}catch(t){return["catch error"]}})(t);if(i||!o)return;if("baidu"===t){const t=(0,x.R)().baiduUrl;o.list=o.list.map((e=>({...e,oriUrl:e.url,url:t+encodeURIComponent(e.title)})))}this.all.some((e=>{if(e.type===t)return e.list=o.list,e.expired=(0,c.Z)(o.expired,Date.now()+12e4,Date.now()+36e5),e.updatetime=o.updatetime,!0}))&&(this.all=[...this.all])},openModal(t,e){this.reqAll(),e?this.setModalActive(e):this.setModalActive(this.all[0].type),this.modalState=t,this.setModal(!0),"add"===t.openType&&this.setConfigShow(!0)},closeModal(){this.setModal(!1),this.setConfigShow(!1)},setModal(t){f.G.setStatus(n.Rm.hotsearch,t),this.modalShow=t},setConfigShow(t){this.configShow=t},setModalActive(t){this.reqHotsearchList(t),this.modalActiveType=t},switchHomeActive(t){let e="";if("next"===t&&this.allType!==(0,h.Z)(this.allTypesList)){const t=this.allTypesList.findIndex((t=>t===this.allType));e=this.allTypesList[t+1]}else if("prev"===t&&this.allType!==(0,p.Z)(this.allTypesList)){const t=this.allTypesList.findIndex((t=>t===this.allType));t>0&&(e=this.allTypesList[t-1]),0===t&&(e=this.allType)}this.setAllType(e),this.reqHotsearchList(e)}}});(0,w.YP)((()=>b().allType),(t=>{b().reqHotsearchList(t)}))},81810:(t,e,i)=>{i.d(e,{Z:()=>r});var o=i(57268);const l={class:"icon-next h-[12px] w-[12px]"},n=[(0,o._)("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[(0,o._)("g",{id:"页面-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[(0,o._)("g",{id:"10.小组件-_-热搜",transform:"translate(-492.000000, -213.000000)"},[(0,o._)("g",{id:"medium_中图标模式",transform:"translate(316.000000, 200.000000)"},[(0,o._)("g",{id:"next_icon",transform:"translate(182.000000, 19.000000) scale(-1, 1) rotate(-90.000000) translate(-182.000000, -19.000000) translate(176.000000, 13.000000)"},[(0,o._)("rect",{id:"矩形",fill:"#FFFFFF",opacity:"0",x:"0",y:"0",width:"12",height:"12"}),(0,o._)("path",{id:"形状结合",d:"M6.70710678,5.29289322 L9.70710678,8.29289322 C10.3370716,8.92285808 9.89090485,10 9,10 L3,10 C2.10909515,10 1.66292836,8.92285808 2.29289322,8.29289322 L5.29289322,5.29289322 C5.68341751,4.90236893 6.31658249,4.90236893 6.70710678,5.29289322 Z M9,2 C9.55228475,2 10,2.44771525 10,3 C10,3.55228475 9.55228475,4 9,4 L3,4 C2.44771525,4 2,3.55228475 2,3 C2,2.44771525 2.44771525,2 3,2 L9,2 Z",fill:"currentColor","fill-rule":"nonzero"})])])])])],-1)];const a={},r=(0,i(76911).Z)(a,[["render",function(t,e){return(0,o.wg)(),(0,o.iD)("section",l,n)}]])},5445:(t,e,i)=>{i.d(e,{Z:()=>r});var o=i(57268);const l={class:"icon-next h-[12px] w-[12px]"},n=[(0,o._)("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[(0,o._)("g",{id:"页面-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[(0,o._)("g",{id:"10.小组件-_-热搜",transform:"translate(-476.000000, -846.000000)"},[(0,o._)("g",{id:"larg_中图标模式",transform:"translate(40.000000, 832.000000)"},[(0,o._)("g",{id:"down_icon",transform:"translate(442.000000, 20.000000) rotate(-90.000000) translate(-442.000000, -20.000000) translate(436.000000, 14.000000)"},[(0,o._)("rect",{id:"矩形",fill:"#FFFFFF",opacity:"0",x:"0",y:"0",width:"12",height:"12"}),(0,o._)("path",{id:"路径-4",d:"M6.19991172,2.40002943 C6.53128257,1.95820163 7.15808392,1.86865858 7.59991172,2.20002943 C8.00775277,2.50591021 8.11542219,3.06351876 7.86894131,3.49500427 L7.79991172,3.60002943 L6.24991172,6.00002943 L7.79991172,8.40002943 C8.10579251,8.80787047 8.05302476,9.37332212 7.69558717,9.71853356 L7.59991172,9.80002943 C7.19207068,10.1059102 6.62661903,10.0531425 6.28140758,9.69570487 L6.19991172,9.60002943 L4.19991172,6.60002943 C3.95991172,6.28002943 3.93591172,5.85202943 4.12791172,5.51042943 L4.19991172,5.40002943 L6.19991172,2.40002943 Z",fill:"currentColor","fill-rule":"nonzero",transform:"translate(5.999941, 6.000029) rotate(-90.000000) translate(-5.999941, -6.000029) "})])])])])],-1)];const a={},r=(0,i(76911).Z)(a,[["render",function(t,e){return(0,o.wg)(),(0,o.iD)("section",l,n)}]])},10663:(t,e,i)=>{i.d(e,{Z:()=>x});var o=i(57268),l=i(29445),n=i(94209),a=i(68398),r=i(3533),s=i(5445),c=i(81810),h=i(94007),p=i(97188),d=i(74003),u=i(68533),g=i(12793);const y={class:"content grid grow grid-rows-5 py-[12px] font-ali-55 text-[12px] text-color-t3 icon-m:py-[8px] icon-s:py-[4px]"},m=["title","href"],w={key:0,class:"w-[140px] flex-shrink-0 text-right"},f=(0,o.aZ)({__name:"widget-hotsearch-component",props:{size:null,widgetData:{default:"all"},id:null,targetType:{default:"preview-list"}},setup(t){const e=t,i=(0,r.useHotsearchStore)(),f=(0,g.i)();let x=null;(0,o.bv)((async()=>{i.reqHotsearchList(k.value),x=window.setInterval((()=>{i.reqHotsearchList(k.value)}),3e5)})),(0,o.Jd)((()=>{x&&clearInterval(x)}));const v=(0,o.Fl)((()=>"m"===(null==e?void 0:e.size)?11:20)),b=(0,o.Fl)((()=>{const t=f.getIconData(e.id);return"preview-list"==e.targetType?e.widgetData??"all":(null==t?void 0:t.widgetData)??"all"})),k=(0,o.Fl)((()=>"all"===b.value?i.allType:b.value)),C=(0,o.Fl)((()=>b.value===u.qH.type)),S=(0,o.Fl)((()=>{var t;return C.value?"#f8f8f8":(null===(t=u.RQ.find((t=>t.type==b.value)))||void 0===t?void 0:t.bgColor)??"#f8f8f8"})),_=(0,o.Fl)((()=>i.getHomeListItem(k.value))),T=(0,l.iH)(0),L=t=>{T.value=T.value+t},Z=t=>{i.switchHomeActive(t),T.value=0};return(0,o.YP)((()=>i.allType),(()=>{T.value=0})),(t,r)=>(0,l.SU)(_)?((0,o.wg)(),(0,o.iD)("section",{key:0,class:(0,n.normalizeClass)([[`hotsearch-${e.size}`],"hotsearch-wrapper flex h-full flex-col bg-color-b4"])},[(0,o._)("div",{style:(0,n.normalizeStyle)((0,l.SU)(C)?{}:{backgroundColor:(0,l.SU)(S)}),class:"header flex h-[48px] items-center justify-between bg-color-b3 icon-m:h-[40px] icon-s:h-[32px]"},[(0,o._)("div",{class:"prev flex h-full shrink-0 cursor-default items-center",onClick:r[2]||(r[2]=(0,a.withModifiers)((()=>{}),["stop"])),onMousedown:r[3]||(r[3]=(0,a.withModifiers)((()=>{}),["stop"]))},[(0,l.SU)(C)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,n.normalizeClass)([[(0,l.SU)(k)===(0,l.SU)(h.Z)((0,l.SU)(i).allTypesList)?"pointer-events-none text-opacity-20":"pointer-events-auto cursor-pointer hover:bg-opacity-[0.10]",(0,l.SU)(C)?"text-color-t2 hover:bg-color-m2":"text-color-white hover:bg-color-white"],"flex h-[24px] w-[24px] items-center justify-center rounded-[6px] transition-colors"]),onClick:r[0]||(r[0]=t=>Z("prev"))},[(0,o.Wm)(c.Z,{class:"rotate-180"})],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,n.normalizeClass)([[0===T.value?"pointer-events-none text-opacity-20":"pointer-events-auto cursor-pointer hover:bg-opacity-[0.10]",(0,l.SU)(C)?"text-color-t2 hover:bg-color-m2":"text-color-white hover:bg-color-white"],"flex h-[24px] w-[24px] items-center justify-center rounded-[6px] transition-colors"]),onClick:r[1]||(r[1]=t=>L(-1))},[(0,o.Wm)(s.Z,{class:"rotate-180"})],2)],32),(0,o._)("div",{class:(0,n.normalizeClass)(["title text-dot px-[4px]",(0,l.SU)(C)?"text-color-t1":"text-color-white"])},(0,n.toDisplayString)("l"===e.size?(0,l.SU)(_).name+((0,l.SU)(d.sM)?(0,l.SU)(_).label:" "+(0,l.SU)(_).label):(0,l.SU)(_).name),3),(0,o._)("div",{class:"next flex h-full shrink-0 cursor-default items-center",onClick:r[6]||(r[6]=(0,a.withModifiers)((()=>{}),["stop"])),onMousedown:r[7]||(r[7]=(0,a.withModifiers)((()=>{}),["stop"]))},[(0,o._)("div",{class:(0,n.normalizeClass)([[T.value>=(0,l.SU)(_).list.length-1?"pointer-events-none  text-opacity-20":"pointer-events-auto cursor-pointer hover:bg-opacity-[0.10]",(0,l.SU)(C)?"text-color-t2 hover:bg-color-m2":"text-color-white hover:bg-color-white"],"flex h-[24px] w-[24px] items-center justify-center rounded-[6px] transition-colors"]),onClick:r[4]||(r[4]=t=>L(1))},[(0,o.Wm)(s.Z)],2),(0,l.SU)(C)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,n.normalizeClass)([[(0,l.SU)(k)===(0,l.SU)(p.Z)((0,l.SU)(i).allTypesList)?"pointer-events-none  text-opacity-20":"pointer-events-auto cursor-pointer hover:bg-opacity-[0.10]",(0,l.SU)(C)?"text-color-t2 hover:bg-color-m2":"text-color-white hover:bg-color-white"],"flex h-[24px] w-[24px] items-center justify-center rounded-[6px] transition-colors"]),onClick:r[5]||(r[5]=t=>Z("next"))},[(0,o.Wm)(c.Z)],2)):(0,o.kq)("",!0)],32)],4),(0,o._)("div",y,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,l.SU)(_).list[T.value],((t,i)=>((0,o.wg)(),(0,o.iD)("div",{key:t.order,class:"flex items-center justify-between overflow-hidden"},[(0,o._)("div",{class:"flex items-center overflow-hidden",onClick:r[8]||(r[8]=(0,a.withModifiers)((()=>{}),["stop"])),onMousedown:r[9]||(r[9]=(0,a.withModifiers)((()=>{}),["stop"]))},[(0,o._)("div",{class:(0,n.normalizeClass)([[{"text-color-red":0===T.value&&0===i,"text-color-orange":0===T.value&&1===i}],"mr-[8px] flex-shrink-0 font-ali-75"])},(0,n.toDisplayString)(t.order),3),(0,o._)("a",{title:t.title.length>(0,l.SU)(v)?t.title:"",tabIndex:"-1",href:t.url,class:"text-dot text-color-t2 transition-colors duration-75 hover:text-color-blue",target:"_blank"},(0,n.toDisplayString)(t.title),9,m)],32),"l"===e.size?((0,o.wg)(),(0,o.iD)("div",w,(0,n.toDisplayString)(t.hotLabel),1)):(0,o.kq)("",!0)])))),128))])],2)):(0,o.kq)("",!0)}});const x=(0,i(76911).Z)(f,[["__scopeId","data-v-221353ea"]])},39547:(t,e,i)=>{i.d(e,{Z:()=>r});var o=i(57422),l=i(60385),n=i(20684),a=i(9860);const r=function(t,e,i){if(!(0,a.Z)(i))return!1;var r=typeof e;return!!("number"==r?(0,l.Z)(i)&&(0,n.Z)(e,i.length):"string"==r&&e in i)&&(0,o.Z)(i[e],t)}},94223:(t,e,i)=>{i.d(e,{Z:()=>s});var o=i(52561),l=i(39547),n=i(60275),a=Math.ceil,r=Math.max;const s=function(t,e,i){e=(i?(0,l.Z)(t,e,i):void 0===e)?1:r((0,n.Z)(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var c=0,h=0,p=Array(a(s/e));c<s;)p[h++]=(0,o.Z)(t,c,c+=e);return p}},94007:(t,e,i)=>{i.d(e,{Z:()=>o});const o=function(t){return t&&t.length?t[0]:void 0}}}]);