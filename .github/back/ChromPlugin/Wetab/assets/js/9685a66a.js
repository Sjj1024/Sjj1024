"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[8085,9042,4060],{79042:(e,t,l)=>{l.r(t),l.d(t,{useCalcHomeLoanStore:()=>a});const a=(0,l(10435).Q_)("calc-components-homeloan",{state:()=>({activeIndex:0,loanType:"1",step:1,businessFormData:{amount:100,years:30,rate:4.9},fundFormData:{amount:60,years:20,rate:3.25},groupFormData:{years:30,bus_amount:50,bus_rate:4.9,fund_amount:50,fund_rate:3.25}}),getters:{getSelectData(){switch(this.activeIndex){case 0:default:return this.businessFormData;case 1:return this.fundFormData;case 2:return this.groupFormData}},getActiveIndex(){return this.activeIndex}},actions:{changeActive(e){this.activeIndex=e},changeStep(e){this.step=e}}})},94060:(e,t,l)=>{l.r(t),l.d(t,{useHomeLoanPanel:()=>u});var a=l(10435),n=l(79042);function o(e){return Number(e.toFixed(2))}const s=(e,t,l)=>{const a=e*t*Math.pow(1+t,l)/(Math.pow(1+t,l)-1),n=a*l,s=[];for(let n=1;n<=l;n++){const i=e*t*Math.pow(1+t,n-1)/(Math.pow(1+t,l)-1),c={index:`第${n}期`,monthlyPay:o(a),monthlyBase:o(i),monthlyInterest:o(a-i)};s.push(c)}return{base:e,monthlyPay:o(a),payedTotal:o(a*l),interestTotal:o(n-e),payList:s}},i=(e,t,l)=>{let a=0,n=0,s=0;const i=[];for(let c=0;c<l;c++){a+=(e-e/l*c)*t;const u=e/l+(e-e/l*c)*t;0===c&&(n=u),c===l-1&&(s=u);const r={index:`第${c+1}期`,monthlyPay:o(u),monthlyBase:o(e/l),monthlyInterest:o(u-e/l)};i.push(r)}const c=e/l+a/l,u=(n-s)/l;return{base:e,monthlyPay:o(n),payedTotal:o(c*l),interestTotal:o(a),delta:o(u),payList:i}},c=(e,t,l,a,n,c)=>{const u=12*n,r=1e4*e,p=t/100/12,x=1e4*l,d=a/100/12,m="1"===c?s(r,p,u):i(r,p,u),v="1"===c?s(x,d,u):i(x,d,u),y=[];for(let e=0;e<m.payList.length;e++){const t=m.payList[e],l=v.payList[e];y.push({index:t.index,monthlyPay:o(t.monthlyPay+l.monthlyPay),monthlyBase:o(t.monthlyBase+l.monthlyBase),monthlyInterest:o(t.monthlyInterest+l.monthlyInterest)})}return{base:m.base+v.base,monthlyPay:o(m.monthlyPay+v.monthlyPay),payedTotal:o(m.payedTotal+v.payedTotal),interestTotal:o(m.interestTotal+v.interestTotal),payList:y}},u=()=>{const e=(0,n.useCalcHomeLoanStore)(),t=(0,a.Jk)(e);return{changeActive:t=>{e.changeActive(t)},calcResultHandle:()=>{if(0===e.getActiveIndex||1===e.getActiveIndex){const l=0===e.getActiveIndex?t.businessFormData.value:t.fundFormData.value,a=1e4*l.amount,n=l.rate/100/12,o=12*l.years;return{..."1"===t.loanType.value?s(a,n,o):i(a,n,o),...l}}if(2===e.getActiveIndex){const e=t.groupFormData.value;return{...e,...c(e.bus_amount,e.bus_rate,e.fund_amount,e.fund_rate,e.years,t.loanType.value)}}},resetStep:t=>{e.changeStep(t)},step:t.step,loanType:t.loanType,activeIndex:t.activeIndex,businessFormData:t.businessFormData,fundFormData:t.fundFormData,groupFormData:t.groupFormData}}},23709:(e,t,l)=>{l.d(t,{Z:()=>p});var a=l(17530),n=l(57268),o=l(29445),s=l(94209);const i={class:"hi-select"},c={class:"flex cursor-pointer items-center text-[14px] text-color-t2"},u={class:"flex-1"},r=[(0,n._)("i",{class:"iconfont icon-down_icon text-[12px]"},null,-1)],p=(0,n.aZ)({__name:"hi-select",props:{value:null,options:null,menuClass:null,onlyTheme:null},emits:["update:value","update:show"],setup(e,t){let{emit:l}=t;const p=e,x=(0,o.iH)(!1);(0,n.YP)((()=>x.value),(e=>l("update:show",e)));const d=(0,n.Fl)({get:()=>p.value,set(e){l("update:value",e)}});return(e,t)=>{const l=a.Z;return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(l,{show:x.value,"onUpdate:show":t[0]||(t[0]=e=>x.value=e),value:(0,o.SU)(d),"onUpdate:value":t[1]||(t[1]=e=>(0,o.dq)(d)?d.value=e:null),"menu-class":p.menuClass,options:p.options,"only-theme":p.onlyTheme},{reference:(0,n.w5)((()=>[(0,n._)("div",c,[(0,n._)("span",u,(0,s.toDisplayString)(p.options[(0,o.SU)(d)].text),1),(0,n._)("div",{class:(0,s.normalizeClass)(["ml-[12px] flex-shrink-0 transform-gpu transition-transform duration-150",{"rotate-180":x.value}])},r,2)])])),_:1},8,["show","value","menu-class","options","only-theme"])])}}})},58647:(e,t,l)=>{l.d(t,{Z:()=>p});var a=l(57268),n=l(94209),o=l(68398),s=l(29445);const i={class:"mb-[8px] flex h-[44px] items-center rounded-[4px] bg-color-white bg-opacity-[0.05] pl-[15px]"},c={class:"flex-1 text-[14px] text-color-calc-t1"},u={class:"text-[12px] text-color-calc-t3"},r={class:"h-[100%] flex-1 p-[1px] pl-[20px] text-[14px]"},p=(0,a.aZ)({__name:"calculator-input",props:{label:null,unit:{default:""},modelValue:null,max:{default:1/0},min:{default:-1/0}},emits:["update:modelValue"],setup(e,t){let{emit:l}=t;const p=e,x=(0,s.iH)(p.modelValue);function d(e){const{value:t}=e.target;if(Number(t)>p.max)return x.value=p.max,l("update:modelValue",p.max),!1;if(Number(t)<p.min)return x.value=p.min,l("update:modelValue",p.min),!1;const a=t.indexOf(".")>-1?parseFloat(t):parseInt(t);x.value=isNaN(a)?"":a,l("update:modelValue",isNaN(a)?"":a)}return(e,t)=>((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",c,[(0,a.Uk)((0,n.toDisplayString)(p.label),1),(0,a._)("span",u,(0,n.toDisplayString)(p.unit),1)]),(0,a._)("div",r,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>x.value=e),type:"number",class:"h-[100%] w-[100%] bg-color-none pr-[15px] text-right text-[14px] text-color-calc-t1",onInput:d},null,544),[[o.vModelText,x.value]])])]))}})},18085:(e,t,l)=>{l.r(t),l.d(t,{default:()=>le});var a=l(23709),n=l(57268),o=l(94209),s=l(29445),i=l(68398),c=l(58647),u=l(94060);const r={class:"mx-auto w-[360px]"},p={class:"relative flex h-[32px] flex-row items-center rounded-[8px] bg-color-black bg-opacity-20"},x=["onClick"],d=(0,n._)("div",{class:"h-[24px]"},null,-1),m={class:"flex justify-between py-[10px] leading-none text-color-calc-t1"},v=(0,n._)("span",null,"贷款方式",-1),y={key:0},_={class:"result-header relative rounded-[12px] bg-color-calc-b1"},h={class:"px-[16px] pt-[16px]"},b={class:"flex items-center justify-between leading-none"},g={class:"text-[14px] text-color-calc-t1"},f={class:"text-[18px] text-color-calc-l9"},S=(0,n._)("span",null,"¥",-1),w={class:"ml-[4px]"},U=(0,n._)("span",{class:"ml-[4px] text-[12px] text-color-calc-t3"},"元",-1),D={class:"flex flex-wrap pt-[20px]"},V={class:"mb-[10px] flex w-[33.33%] items-center text-[12px] leading-none text-color-calc-t1"},T=(0,n._)("span",{class:"text-color-calc-t3"},"贷款总额：",-1),k={class:"mb-[10px] flex w-[33.33%] items-center text-[12px] leading-none text-color-calc-t1"},F=(0,n._)("span",{class:"text-color-calc-t3"},"贷款利率：",-1),I={class:"mb-[10px] flex w-[33.33%] items-center text-[12px] leading-none text-color-calc-t1"},Z=(0,n._)("span",{class:"text-color-calc-t3"},"贷款年限：",-1),P={class:"mb-[10px] flex w-[33.33%] items-center text-[12px] leading-none text-color-calc-t1"},H=(0,n._)("span",{class:"text-color-calc-t3"},"商业贷款：",-1),W={class:"mb-[10px] flex w-[33.33%] items-center text-[12px] leading-none text-color-calc-t1"},C=(0,n._)("span",{class:"text-color-calc-t3"},"商业利率：",-1),L={class:"mb-[10px] flex w-[33.33%] items-center text-[12px] leading-none text-color-calc-t1"},A=(0,n._)("span",{class:"text-color-calc-t3"},"贷款年限：",-1),N={class:"mb-[10px] flex w-[33.33%] items-center text-[12px] leading-none text-color-calc-t1"},z=(0,n._)("span",{class:"text-color-calc-t3"},"公积金贷款：",-1),B={class:"mb-[10px] flex w-[33.33%] items-center text-[12px] leading-none text-color-calc-t1"},j=(0,n._)("span",{class:"text-color-calc-t3"},"公积金利率：",-1),q=(0,n._)("div",{class:"h-[1px] bg-color-white bg-opacity-[0.05]"},null,-1),M={class:"flex flex-col px-[16px] pb-[16px]"},Y={class:"mt-[10px] flex items-center text-[12px] leading-none text-color-calc-t1"},K=(0,n._)("span",{class:"text-color-calc-t3"},"累计利息（元）：",-1),R={class:"mt-[10px] flex items-center text-[12px] leading-none text-color-calc-t1"},$=(0,n._)("span",{class:"text-color-calc-t3"},"累计还款总额（元）：",-1),E=(0,n.uE)('<div class="mt-[18px] flex items-center justify-between border-b border-b-color-white border-opacity-5 pb-[6px] text-[12px] text-color-calc-t3"><span class="flex-1">期数</span><span class="flex-1 text-center">月供（元）</span><span class="flex-1 text-center">本金（元）</span><span class="flex-1 text-right">利息（元）</span></div>',1),J={class:"hi-scroll h-full pb-[60px]"},O={class:"flex-1"},Q={class:"flex-1 text-center"},G={class:"flex-1 text-center"},X={class:"flex-1 text-right"},ee={class:"bottom-bar absolute bottom-0 left-0 right-0 h-[60px]"},te=[(0,n._)("i",{class:"iconfont icon-zhuye text-[28px] text-color-calc-t1"},null,-1)],le=(0,n.aZ)({__name:"homeloan-panel",setup(e){const t=["商业贷款","公积金","组合贷款"],{activeIndex:l,changeActive:le,businessFormData:ae,loanType:ne,fundFormData:oe,groupFormData:se,step:ie,resetStep:ce,calcResultHandle:ue}=(0,u.useHomeLoanPanel)(),re=(0,s.iH)({1:{text:"等额本息"},2:{text:"等额本金"}}),pe=(0,s.iH)();function xe(){const e=ue();pe.value=e,ce(2)}return(e,u)=>{var ue,de,me,ve,ye,_e,he,be,ge,fe,Se,we;const Ue=a.Z;return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.wy)((0,n._)("div",null,[(0,n._)("div",p,[(0,n._)("div",{class:"absolute top-[2px] bottom-[2px] w-[118px] rounded-[6px] bg-color-calc-l5 transition-[left]",style:(0,o.normalizeStyle)({left:118*(0,s.SU)(l)+((0,s.SU)(l)+2)+"px"})},null,4),((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(t,((e,t)=>(0,n._)("div",{key:t,class:(0,o.normalizeClass)(["z-10 h-[100%] flex-1 cursor-pointer text-center leading-[32px] text-color-calc-t1",[(0,s.SU)(l)===t?"text-opacity-100":"text-opacity-60"]]),onClick:e=>(0,s.SU)(le)(t)},(0,o.toDisplayString)(e),11,x))),64))]),d,(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(ae).amount,"onUpdate:modelValue":u[0]||(u[0]=e=>(0,s.SU)(ae).amount=e),max:1e3,min:0,label:"贷款金额",unit:"（万元）"},null,8,["modelValue"]),(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(ae).years,"onUpdate:modelValue":u[1]||(u[1]=e=>(0,s.SU)(ae).years=e),max:100,min:0,label:"贷款年限",unit:"（年）"},null,8,["modelValue"]),(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(ae).rate,"onUpdate:modelValue":u[2]||(u[2]=e=>(0,s.SU)(ae).rate=e),max:10,min:0,label:"贷款利率",unit:"（%）"},null,8,["modelValue"])],512),[[i.vShow,0===(0,s.SU)(l)]]),(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(oe).amount,"onUpdate:modelValue":u[3]||(u[3]=e=>(0,s.SU)(oe).amount=e),max:99999999,min:0,label:"贷款金额",unit:"（万元）"},null,8,["modelValue"]),(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(oe).years,"onUpdate:modelValue":u[4]||(u[4]=e=>(0,s.SU)(oe).years=e),max:100,min:0,label:"贷款年限",unit:"（年）"},null,8,["modelValue"]),(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(oe).rate,"onUpdate:modelValue":u[5]||(u[5]=e=>(0,s.SU)(oe).rate=e),max:10,min:0,label:"贷款利率",unit:"（%）"},null,8,["modelValue"])],512),[[i.vShow,1===(0,s.SU)(l)]]),(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(se).years,"onUpdate:modelValue":u[6]||(u[6]=e=>(0,s.SU)(se).years=e),max:100,min:0,label:"贷款年限",unit:"（年）"},null,8,["modelValue"]),(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(se).bus_amount,"onUpdate:modelValue":u[7]||(u[7]=e=>(0,s.SU)(se).bus_amount=e),max:99999999,min:0,label:"商业贷款",unit:"（万元）"},null,8,["modelValue"]),(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(se).bus_rate,"onUpdate:modelValue":u[8]||(u[8]=e=>(0,s.SU)(se).bus_rate=e),max:10,min:0,label:"商贷利率",unit:"（%）"},null,8,["modelValue"]),(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(se).fund_amount,"onUpdate:modelValue":u[9]||(u[9]=e=>(0,s.SU)(se).fund_amount=e),max:99999999,min:0,label:"公积金贷款",unit:"（万元）"},null,8,["modelValue"]),(0,n.Wm)(c.Z,{modelValue:(0,s.SU)(se).fund_rate,"onUpdate:modelValue":u[10]||(u[10]=e=>(0,s.SU)(se).fund_rate=e),max:10,min:0,label:"公积金利率",unit:"（%）"},null,8,["modelValue"])],512),[[i.vShow,2===(0,s.SU)(l)]]),(0,n._)("div",null,[(0,n._)("div",m,[v,(0,n.Wm)(Ue,{value:(0,s.SU)(ne),"onUpdate:value":u[11]||(u[11]=e=>(0,s.dq)(ne)?ne.value=e:null),class:"type-select",options:re.value,"only-theme":"dark"},null,8,["value","options"])]),(0,n._)("button",{class:"start-btn mt-[20px] h-[44px] w-[100%] rounded-[8px] bg-color-calc-l9 text-[18px] text-color-calc-t1 hover:bg-opacity-90 active:bg-opacity-60",onClick:xe}," 开始计算 ")])],512),[[i.vShow,1===(0,s.SU)(ie)]]),2===(0,s.SU)(ie)?((0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("div",_,[(0,n._)("div",h,[(0,n._)("div",b,[(0,n._)("span",g,(0,o.toDisplayString)("1"===(0,s.SU)(ne)?"每月月供":"最高月供"),1),(0,n._)("div",f,[S,(0,n._)("span",w,(0,o.toDisplayString)(null===(ue=pe.value)||void 0===ue?void 0:ue.monthlyPay),1),U])]),(0,n._)("div",D,[2!==(0,s.SU)(l)?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("div",V,[T,(0,n._)("span",null,(0,o.toDisplayString)(null===(de=pe.value)||void 0===de?void 0:de.amount)+"万元",1)]),(0,n._)("div",k,[F,(0,n._)("span",null,(0,o.toDisplayString)(null===(me=pe.value)||void 0===me?void 0:me.rate)+"%",1)]),(0,n._)("div",I,[Z,(0,n._)("span",null,(0,o.toDisplayString)(null===(ve=pe.value)||void 0===ve?void 0:ve.years)+"年",1)])],64)):(0,n.kq)("",!0),2===(0,s.SU)(l)?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("div",P,[H,(0,n._)("span",null,(0,o.toDisplayString)(null===(ye=pe.value)||void 0===ye?void 0:ye.bus_amount)+"万",1)]),(0,n._)("div",W,[C,(0,n._)("span",null,(0,o.toDisplayString)(null===(_e=pe.value)||void 0===_e?void 0:_e.bus_rate)+"%",1)]),(0,n._)("div",L,[A,(0,n._)("span",null,(0,o.toDisplayString)(null===(he=pe.value)||void 0===he?void 0:he.years)+"年",1)]),(0,n._)("div",N,[z,(0,n._)("span",null,(0,o.toDisplayString)(null===(be=pe.value)||void 0===be?void 0:be.fund_amount)+"万",1)]),(0,n._)("div",B,[j,(0,n._)("span",null,(0,o.toDisplayString)(null===(ge=pe.value)||void 0===ge?void 0:ge.fund_rate)+"%",1)])],64)):(0,n.kq)("",!0)])]),q,(0,n._)("div",M,[(0,n._)("div",Y,[K,(0,n._)("span",null,(0,o.toDisplayString)(null===(fe=pe.value)||void 0===fe?void 0:fe.interestTotal),1)]),(0,n._)("div",R,[$,(0,n._)("span",null,(0,o.toDisplayString)(null===(Se=pe.value)||void 0===Se?void 0:Se.payedTotal),1)])])]),E,(0,n._)("div",{class:"relative h-[362px]",style:(0,o.normalizeStyle)({height:2===(0,s.SU)(l)?"362px":"382px"})},[(0,n._)("div",J,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(null===(we=pe.value)||void 0===we?void 0:we.payList,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"flex items-center justify-between py-[5px] text-[12px] text-color-calc-t3 hover:text-color-calc-t1"},[(0,n._)("span",O,(0,o.toDisplayString)(e.index),1),(0,n._)("span",Q,(0,o.toDisplayString)(e.monthlyPay),1),(0,n._)("span",G,(0,o.toDisplayString)(e.monthlyBase),1),(0,n._)("span",X,(0,o.toDisplayString)(e.monthlyInterest),1)])))),128))]),(0,n._)("div",ee,[(0,n._)("div",{class:"shadow-bar mx-auto flex h-[44px] w-[44px] cursor-pointer items-center justify-center rounded-[30px] bg-color-calc-l9",onClick:u[12]||(u[12]=e=>(0,s.SU)(ce)(1))},te)])],4)])):(0,n.kq)("",!0)])}}})}}]);