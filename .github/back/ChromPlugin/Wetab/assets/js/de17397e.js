"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[3534,2421,102],{34744:(e,t,l)=>{l.r(t);l(42325);var s=l(97982),i=(l(57334),l(66155)),a=l(68398),o=l(96755),n=l(79282),r=l(43451),c=l(35427),m=l(57268),u=l(29445),d=l(94209),p=l(64183),x=l(47895),v=l(12061),w=l(40294);const f={class:"flex items-center"},_={class:"text-color-t3"},h=(0,m._)("i",{class:"iconfont icon-return_icon ml-[8px] rotate-180 text-[12px]"},null,-1),S=(0,m.aZ)({__name:"festival-modal-sidebar",setup(e){const t=e=>{l.setStyle(e)},l=(0,v.D)(),s=()=>{l.setStep(2)};return(e,i)=>((0,m.wg)(),(0,m.j4)(w.Z,{class:"mt-[32px]","timer-style":(0,u.SU)(l).timerStyle,onOnChange:t},{default:(0,m.w5)((()=>[(0,m._)("div",{class:"mx-[24px] mb-[24px] flex cursor-pointer justify-between py-[6px]",onClick:s},[(0,m._)("h1",null,(0,d.toDisplayString)("节日列表"),1),(0,m._)("div",f,[(0,m._)("span",_,(0,d.toDisplayString)((0,u.SU)(l).selected.length),1),h])])])),_:1},8,["timer-style"]))}});var y=l(17530),g=l(51753),b=l(63477);const k={class:"festival-modal-sidebar-item mb-[4px] h-[44px] rounded-[6px] leading-[1.414] hover:bg-color-m2 hover:bg-opacity-[0.06]"},Z={class:"flex h-full items-center justify-between px-[12px]"},U={class:"left text-dot flex items-center"},D={class:"text-dot min-w-[42px] shrink-0 text-color-t2"},z={class:"ml-[8px] font-ali-55 text-color-t3"},C={class:"right ml-[12px] flex items-center text-color-t3"},W=(0,m.aZ)({__name:"festival-modal-sidebar-item",props:{item:null},setup(e){const t=e,l=(0,v.D)(),s=()=>{l.selected.includes(t.item.id)?l.unselectOne(t.item.id):l.selectOne(t.item.id)};return(e,l)=>{const i=g.Z;return(0,m.wg)(),(0,m.iD)("section",k,[(0,m._)("div",Z,[(0,m._)("div",U,[(0,m._)("h4",D,(0,d.toDisplayString)(t.item.name),1),(0,m._)("span",z,(0,d.toDisplayString)((0,u.SU)(b.F8)(t.item.festival)),1)]),(0,m._)("div",C,[(0,m.Wm)(i,{value:t.item.select,onClick:s},null,8,["value"])])])])}}}),j=(e=>((0,m.dD)("data-v-88027a92"),e=e(),(0,m.Cn)(),e))((()=>(0,m._)("i",{class:"iconfont icon-return_icon text-[20px]"},null,-1))),T={class:"grow text-center text-[16px]"},F={class:"block"},H={class:"list relative mt-[24px] pl-[24px] pr-[20px]"},L=(0,m.aZ)({__name:"festival-modal-sidebar-list",setup(e){const t=(0,v.D)(),l=(0,u.iH)(null),s=(0,u.iH)(null),i=(0,u.iH)(!1),o={edit:{text:"选择全部",handler(){i.value=!1,t.selectAll()}},remove:{text:"全部取消",handler(){i.value=!1,t.unselectAll()}}},n=()=>{t.setStep(1)};return(e,r)=>{const c=y.Z;return(0,m.wg)(),(0,m.iD)("section",{ref_key:"wrapRef",ref:l,class:"festival-modal-sidebar-list relative h-full pt-[28px] leading-none"},[(0,m._)("div",{class:"relative mx-[24px] flex cursor-pointer items-center text-color-t1",onClick:n},[j,(0,m._)("h1",T,(0,d.toDisplayString)("节日列表"),1),(0,m._)("div",{class:"mr-[12px]",onClick:r[1]||(r[1]=(0,a.withModifiers)((()=>{}),["stop"]))},[(0,m.Wm)(c,{show:i.value,"onUpdate:show":r[0]||(r[0]=e=>i.value=e),options:o},{reference:(0,m.w5)((()=>[(0,m._)("button",F,[(0,m._)("i",{class:(0,d.normalizeClass)([[i.value?"text-opacity-80":"text-opacity-60 hover:text-opacity-80"],"iconfont icon-shaixuan text-[20px] text-color-t1"])},null,2)])])),_:1},8,["show"])])]),(0,m._)("div",{ref_key:"listRef",ref:s,class:"box hi-scroll pb-[12px]"},[(0,m._)("div",H,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)((0,u.SU)(t).listWithSelectStatus,(e=>((0,m.wg)(),(0,m.j4)(W,{key:e.id,item:e},null,8,["item"])))),128))])],512)],512)}}});const M=(0,l(76911).Z)(L,[["__scopeId","data-v-88027a92"]]);var O=l(62144),A=l(18446),I=l(66086),R=l(66412);const q=(0,m.aZ)({__name:"festival-modal-preview",setup(e){const t=(0,p.useTimerFestivalStore)(),l=(0,v.D)();return(e,s)=>((0,m.wg)(),(0,m.j4)(O.Z,{sizes:(0,u.SU)(v.a).sizes,"default-size":(0,u.SU)(t).modalState.size},{item:(0,m.w5)((e=>{let{size:s}=e;return["s"===s?((0,m.wg)(),(0,m.j4)(A.Z,{key:0,class:"item item-small","timer-style":(0,u.SU)(l).timerStyle,list:(0,u.SU)(t).homeList},null,8,["timer-style","list"])):"m"===s?((0,m.wg)(),(0,m.j4)(I.Z,{key:1,class:"item item-small","timer-style":(0,u.SU)(l).timerStyle,list:(0,u.SU)(t).homeList},null,8,["timer-style","list"])):"l"===s?((0,m.wg)(),(0,m.j4)(R.Z,{key:2,class:"item item-small","timer-style":(0,u.SU)(l).timerStyle,list:(0,u.SU)(t).homeList},null,8,["timer-style","list"])):(0,m.kq)("",!0)]})),_:1},8,["sizes","default-size"]))}});var B=l(12793);const K=(0,m.aZ)({__name:"widget-festival-modal",setup(e){const t=(0,p.useTimerFestivalStore)(),l=(0,v.D)(),s=(0,m.Fl)((()=>"preview"===t.modalState.openType||"add"===t.modalState.openType&&!t.initialized)),i=()=>{if(s.value){(0,B.i)().saveIcon({type:"widget",name:v.a.title,widgetSize:t.modalState.size,widgetName:v.a.name,origin:"add"})}l.saveStyle(),l.saveSelectedList(),t.setModal(!1)};return(e,o)=>{const p=c.Z,w=r.Z,f=n.Z;return(0,m.wg)(),(0,m.j4)(f,{class:"widget-festival-modal",ani:"fade",show:(0,u.SU)(t).modalShow},{default:(0,m.w5)((()=>[(0,m.Wm)(w,{"full-screen-btn":!1,onOnClose:o[0]||(o[0]=e=>(0,u.SU)(t).setModal(!1))},{default:(0,m.w5)((()=>[(0,m.Wm)(x.Z,null,{title:(0,m.w5)((()=>[(0,m.Uk)((0,d.toDisplayString)((0,u.SU)(v.a).title),1)])),left:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(S,null,null,512),[[a.vShow,1===(0,u.SU)(l).step]]),(0,m.wy)((0,m.Wm)(M,null,null,512),[[a.vShow,2===(0,u.SU)(l).step]])])),right:(0,m.w5)((()=>[(0,m.Wm)(q)])),footer:(0,m.w5)((()=>[(0,m.Wm)(p,{class:"w-full",onClick:i},{default:(0,m.w5)((()=>[(0,m.Uk)((0,d.toDisplayString)((0,u.SU)(s)?"添加":"完成"),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])}}});var N=l(75008);(()=>{const e=(0,b.em)(),t=(0,a.createApp)(K);(0,N.f)(t),t.use(o.M),t.use(i.Z),t.use(s.Z),t.mount(e)})()},51753:(e,t,l)=>{l.d(t,{Z:()=>n});var s=l(79282),i=l(57268),a=l(94209);const o=(0,i._)("i",{class:"iconfont icon-checked_icon rounded-full text-[14px] text-color-white"},null,-1),n=(0,i.aZ)({__name:"hi-checkbox",props:{value:{type:Boolean}},setup(e){const t=e;return(e,l)=>{const n=s.Z;return(0,i.wg)(),(0,i.iD)("button",{class:(0,a.normalizeClass)(["hi-checkbox block h-[16px] w-[16px] overflow-hidden rounded-[4px]",t.value?"border-[1px] border-color-blue bg-color-blue":"border-[3px] border-color-t4"])},[(0,i.Wm)(n,{show:t.value,ani:"scale"},{default:(0,i.w5)((()=>[o])),_:1},8,["show"])],2)}}})}}]);